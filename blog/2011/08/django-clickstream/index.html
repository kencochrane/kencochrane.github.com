<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>KenCochrane.net</title>
	<meta name="description" content="">
	<meta name="author" content="Ken Cochrane">
        <link href="http://kencochrane.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="KenCochrane.net Atom Feed" />
            <link href="http://kencochrane.net/rss/all.rss" type="application/rss+xml" rel="alternate" title="KenCochrane.net RSS Feed" />
        	<link rel="icon" href="http://kencochrane.net/static/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="http://kencochrane.net/static/favicon.ico" type="image/x-icon"> 

	<!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
		<script src="http://kencochrane.net/theme/html5.js"></script>
	<![endif]-->

	<!-- Le styles -->
	<link href="http://kencochrane.net/theme/bootstrap.min.css" rel="stylesheet">
	<link href="http://kencochrane.net/theme/local.css" rel="stylesheet">
	<link href="http://kencochrane.net/theme/css/font-awesome.css" rel="stylesheet">
	<link href="http://kencochrane.net/theme/pygments.css" rel="stylesheet">
	<style type="text/css">

      .sidebar-nav {
        padding: 9px 0;
      }
      .tag-1 {
        font-size: 13pt;
      }
      .tag-2 {
        font-size: 10pt;
      }
      .tag-2 {
        font-size: 8pt;
      }
      .tag-4 {
        font-size: 6pt;
     }
    </style>
	<script type="text/javascript">
	var disqus_identifier = "blog/2011/08/django-clickstream/";
	(function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = 'http://kencochrane.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
</script>
</head>
<body>
		<div class="topbar">
	  <div class="topbar-inner">
		<div class="container-fluid">
		  <a class="brand" href="http://kencochrane.net/index.html">KenCochrane.net</a>
			<ul class="nav">
																			<li><a href="http://kencochrane.net/about/index.html">About Me</a></li>
											<li><a href="http://kencochrane.net/projects/index.html">Projects</a></li>
																		<li class="active"><a href="http://kencochrane.net/category/blog.html">blog</a></li>
							</ul>
			<p class="pull-right"><a href="http://kencochrane.net/archives.html">[archives]</a> <a href="http://kencochrane.net/tags.html">[tags]</a></p>
		</div>
	  </div>
	</div>

	<div class="container-fluid">
	  <div class="sidebar">
		<div class="well">
		    						<div class="social">
			<h3>Social</h3>
			<ul>
								<li><a href="http://twitter.com/kencochrane">twitter</a></li>
								<li><a href="https://github.com/kencochrane">github</a></li>
												    <li><a href="http://kencochrane.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>
				                                    <li><a href="http://kencochrane.net/rss/all.rss" type="application/rss+xml" rel="alternate">rss feed</a></li>
                			</ul>
			</div>
			
            <h4><i class="icon-tags icon-large"></i>Tags</h4>
            <ul>
                            <li class="tag-1">
                    <a href="http://kencochrane.net/tag/hosting.html">
                        <i class="icon-tag icon-large"></i>hosting
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/epio.html">
                        <i class="icon-tag icon-large"></i>epio
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/djangomaine.html">
                        <i class="icon-tag icon-large"></i>djangomaine
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/aufs.html">
                        <i class="icon-tag icon-large"></i>aufs
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/jobs.html">
                        <i class="icon-tag icon-large"></i>jobs
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/blog.html">
                        <i class="icon-tag icon-large"></i>blog
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/rhel5.html">
                        <i class="icon-tag icon-large"></i>RHEL5
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/go.html">
                        <i class="icon-tag icon-large"></i>go
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/script.html">
                        <i class="icon-tag icon-large"></i>script
                    </a>
                </li>
                            <li class="tag-1">
                    <a href="http://kencochrane.net/tag/dotcloud.html">
                        <i class="icon-tag icon-large"></i>dotcloud
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/lxc.html">
                        <i class="icon-tag icon-large"></i>lxc
                    </a>
                </li>
                            <li class="tag-1">
                    <a href="http://kencochrane.net/tag/python.html">
                        <i class="icon-tag icon-large"></i>python
                    </a>
                </li>
                            <li class="tag-2">
                    <a href="http://kencochrane.net/tag/linux.html">
                        <i class="icon-tag icon-large"></i>linux
                    </a>
                </li>
                            <li class="tag-1">
                    <a href="http://kencochrane.net/tag/deployment.html">
                        <i class="icon-tag icon-large"></i>deployment
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/nginx.html">
                        <i class="icon-tag icon-large"></i>nginx
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/gunicorn.html">
                        <i class="icon-tag icon-large"></i>gunicorn
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/apphosted.html">
                        <i class="icon-tag icon-large"></i>apphosted
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/cashstar.html">
                        <i class="icon-tag icon-large"></i>cashstar
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/rhel5.html">
                        <i class="icon-tag icon-large"></i>rhel5
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/raspberrypi.html">
                        <i class="icon-tag icon-large"></i>raspberrypi
                    </a>
                </li>
                            <li class="tag-2">
                    <a href="http://kencochrane.net/tag/heroku.html">
                        <i class="icon-tag icon-large"></i>heroku
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/ubuntu.html">
                        <i class="icon-tag icon-large"></i>ubuntu
                    </a>
                </li>
                            <li class="tag-2">
                    <a href="http://kencochrane.net/tag/djangocms.html">
                        <i class="icon-tag icon-large"></i>djangocms
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/apache.html">
                        <i class="icon-tag icon-large"></i>apache
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/supervisor.html">
                        <i class="icon-tag icon-large"></i>supervisor
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/fabric.html">
                        <i class="icon-tag icon-large"></i>fabric
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/supervisord.html">
                        <i class="icon-tag icon-large"></i>supervisord
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/startup.html">
                        <i class="icon-tag icon-large"></i>startup
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/upgrade.html">
                        <i class="icon-tag icon-large"></i>upgrade
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/pelican.html">
                        <i class="icon-tag icon-large"></i>pelican
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/openshift.html">
                        <i class="icon-tag icon-large"></i>openshift
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/memcached.html">
                        <i class="icon-tag icon-large"></i>memcached
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/recruiters.html">
                        <i class="icon-tag icon-large"></i>recruiters
                    </a>
                </li>
                            <li class="tag-1">
                    <a href="http://kencochrane.net/tag/django.html">
                        <i class="icon-tag icon-large"></i>django
                    </a>
                </li>
                            <li class="tag-1">
                    <a href="http://kencochrane.net/tag/paas.html">
                        <i class="icon-tag icon-large"></i>paas
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/djangozoom.html">
                        <i class="icon-tag icon-large"></i>djangozoom
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/mysql.html">
                        <i class="icon-tag icon-large"></i>mysql
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/mercurial.html">
                        <i class="icon-tag icon-large"></i>Mercurial
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/docker.html">
                        <i class="icon-tag icon-large"></i>docker
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/stackato.html">
                        <i class="icon-tag icon-large"></i>stackato
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/work.html">
                        <i class="icon-tag icon-large"></i>work
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/install.html">
                        <i class="icon-tag icon-large"></i>install
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/rackspace.html">
                        <i class="icon-tag icon-large"></i>rackspace
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/gondor.html">
                        <i class="icon-tag icon-large"></i>gondor
                    </a>
                </li>
                            <li class="tag-2">
                    <a href="http://kencochrane.net/tag/centos5.html">
                        <i class="icon-tag icon-large"></i>centos5
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/django-maine.html">
                        <i class="icon-tag icon-large"></i>django-maine
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/clickstream.html">
                        <i class="icon-tag icon-large"></i>clickstream
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/job.html">
                        <i class="icon-tag icon-large"></i>job
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/macosx.html">
                        <i class="icon-tag icon-large"></i>macosx
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/sentry.html">
                        <i class="icon-tag icon-large"></i>sentry
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/percona.html">
                        <i class="icon-tag icon-large"></i>percona
                    </a>
                </li>
                            <li class="tag-2">
                    <a href="http://kencochrane.net/tag/kernel.html">
                        <i class="icon-tag icon-large"></i>kernel
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/newrelic.html">
                        <i class="icon-tag icon-large"></i>newrelic
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/pci.html">
                        <i class="icon-tag icon-large"></i>pci
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/raspbian.html">
                        <i class="icon-tag icon-large"></i>raspbian
                    </a>
                </li>
                        </ul>
			
		</div>
	  </div>
	  <div class="content">
							<div class='article'>
		<div class="page-header"><h1>django-clickstream</h1></div>
		<div class="well small">Permalink: <a class="more" href="http://kencochrane.net/blog/2011/08/django-clickstream/">2011-08-12 10:48:29</a>
by <a class="url fn" href="http://kencochrane.net/author/ken-cochrane.html">Ken Cochrane</a> in <a href="http://kencochrane.net/category/blog.html">blog</a>
tags: <a href="http://kencochrane.net/tag/django.html">django</a> <a href="http://kencochrane.net/tag/clickstream.html">clickstream</a> </div>
		<div><p>Track a visitors movements across your site.</p>
<p>Possible uses:</p>
<ul class="simple">
<li>See what they were doing before they got an error.</li>
<li>Use it for analytics and usability testing to see how people are moving around your site, and where you are losing people.</li>
</ul>
<p>Inspired by OpenSymphony's Java project of the same name. <a class="reference external" href="http://code.google.com/p/clickstream/">http://code.google.com/p/clickstream/</a></p>
<div class="section" id="requirements">
<h2>Requirements</h2>
<ul class="simple">
<li>Django 1.1 or newer</li>
<li>Django sessions need to be enabled</li>
<li>Django south 0.7 or newer for migrations</li>
</ul>
<div class="section" id="settings">
<h3>Settings</h3>
<div class="section" id="custom-settings">
<h4>Custom Settings</h4>
<p>Add the following properties to your settings file if you want to override the default settings.</p>
</div>
<div class="section" id="clickstream-ignore-paths">
<h4>CLICKSTREAM_IGNORE_PATHS</h4>
<p>Default = ()</p>
<p>Takes a list of regular expressions for paths that you want to ignore if it is picked up by these clicks won't be tracked.</p>
<p>CLICKSTREAM_IGNORE_PATHS = ('^/private/', '^/dont-track-me/', 'super-secret.txt')</p>
</div>
<div class="section" id="clickstream-ignore-anonymous">
<h4>CLICKSTREAM_IGNORE_ANONYMOUS</h4>
<p>Default = False</p>
<p>If you only want to track people that are logged in, change to True</p>
<p>CLICKSTREAM_IGNORE_ANONYMOUS = False</p>
</div>
<div class="section" id="clickstream-ignore-ip">
<h4>CLICKSTREAM_IGNORE_IP</h4>
<p>Default = ()</p>
<p>A list of IP's that you don't want to track</p>
<p>CLICKSTREAM_IGNORE_IP = ('127.0.0.1', '10.10.10.10, '8.8.8.8')</p>
</div>
<div class="section" id="middleware">
<h4>Middleware</h4>
<p>Add 'clickstream.middleware.ClickStreamMiddleware' to your MIDDLEWARE_CLASSES settings
it needs to be after 'django.contrib.sessions.middleware.SessionMiddleware' in the list.</p>
</div>
<div class="section" id="app">
<h4>App</h4>
<p>Add clickstream to INSTALLED_APPS</p>
</div>
<div class="section" id="sync-tables-migrate">
<h4>Sync Tables + Migrate</h4>
<p>Run './manage.py syncdb' to load up the tables in your database.</p>
<p>Run './manage.py migrate' to run the south migrations</p>
</div>
</div>
</div>
</div>
		<div>
			<h2>Comments</h2>
		 	<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="KenCochrane">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
			<div id="disqus_thread"></div>					<div>
	</div>	
		<footer>
		  <p> Powered by <a href="http://getpelican.com">Pelican</a>, theme based on <a href="http://twitter.github.com/bootstrap/">Bootstrap, from Twitter</a>.</p>
		  <p>&copy; Ken Cochrane 2013</p>
		  <a title="Real Time Web Analytics" href="http://getclicky.com/66415850"><img alt="Real Time Web Analytics" src="//static.getclicky.com/media/links/badge.gif" border="0" /></a>
		</footer>
	  </div>

	</div>
<div class="container-fluid">
<script>var _gaq=[['_setAccount','UA-67696-11'],['_trackPageview']];(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.src='//www.google-analytics.com/ga.js';s.parentNode.insertBefore(g,s)}(document,'script'))</script>

<script type="text/javascript">
var clicky_site_ids = clicky_site_ids || [];
clicky_site_ids.push(66415850);
(function() {
  var s = document.createElement('script');
  s.type = 'text/javascript';
  s.async = true;
  s.src = '//static.getclicky.com/js';
  ( document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0] ).appendChild( s );
})();
</script>
<noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/66415850ns.gif" /></p></noscript>
</div>
</body>
</html>