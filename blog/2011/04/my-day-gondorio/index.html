<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>KenCochrane.net</title>
	<meta name="description" content="">
	<meta name="author" content="Ken Cochrane">
	<link rel="icon" href="../../../../static/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="../../../../static/favicon.ico" type="image/x-icon"> 

	<!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
		<script src="../../../../theme/html5.js"></script>
	<![endif]-->

	<!-- Le styles -->
	<link href="../../../../theme/bootstrap.min.css" rel="stylesheet">
	<link href="../../../../theme/local.css" rel="stylesheet">
	<link href="../../../../theme/css/font-awesome.css" rel="stylesheet">
	<link href="../../../../theme/pygments.css" rel="stylesheet">
	<style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
      .tag-1 {
        font-size: 13pt;
      }
      .tag-2 {
        font-size: 10pt;
      }
      .tag-2 {
        font-size: 8pt;
      }
      .tag-4 {
        font-size: 6pt;
     }
    </style>
	<script type="text/javascript">
	var disqus_identifier = "blog/2011/04/my-day-gondorio/";
	(function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = 'http://kencochrane.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
</script>
</head>
<body>
		<a href="https://github.com/kencochrane/kencochrane.github.com"><img style="position: absolute; top: 39px; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" alt="Fork me on GitHub" /></a>
	<div class="topbar">
	  <div class="topbar-inner">
		<div class="container-fluid">
		  <a class="brand" href="../../../../index.html">KenCochrane.net</a>
			<ul class="nav">
																			<li><a href="../../../../about/index.html">About Me</a></li>
											<li><a href="../../../../projects/index.html">Projects</a></li>
																		<li class="active"><a href="../../../../category/blog.html">blog</a></li>
							</ul>
			<p class="pull-right"><a href="../../../../archives.html">[archives]</a> <a href="../../../../tags.html">[tags]</a></p>
		</div>
	  </div>
	</div>

	<div class="container-fluid">
	  <div class="sidebar">
		<div class="well">
		    						<div class="social">
			<h3>Social</h3>
			<ul>
								<li><a href="http://twitter.com/kencochrane">twitter</a></li>
								<li><a href="https://github.com/kencochrane">github</a></li>
							</ul>
			</div>
			
            <h4><i class="icon-tags icon-large"></i>Tags</h4>
            <ul>
                            <li class="tag-2">
                    <a href="../../../../tag/dotcloud.html">
                        <i class="icon-tag icon-large"></i>dotcloud
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="../../../../tag/supervisor.html">
                        <i class="icon-tag icon-large"></i>supervisor
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="../../../../tag/script.html">
                        <i class="icon-tag icon-large"></i>script
                    </a>
                </li>
                            <li class="tag-1">
                    <a href="../../../../tag/paas.html">
                        <i class="icon-tag icon-large"></i>paas
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="../../../../tag/newrelic.html">
                        <i class="icon-tag icon-large"></i>newrelic
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="../../../../tag/gondor.html">
                        <i class="icon-tag icon-large"></i>gondor
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="../../../../tag/work.html">
                        <i class="icon-tag icon-large"></i>work
                    </a>
                </li>
                            <li class="tag-1">
                    <a href="../../../../tag/django.html">
                        <i class="icon-tag icon-large"></i>django
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="../../../../tag/apache.html">
                        <i class="icon-tag icon-large"></i>apache
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="../../../../tag/gunicorn.html">
                        <i class="icon-tag icon-large"></i>gunicorn
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="../../../../tag/install.html">
                        <i class="icon-tag icon-large"></i>install
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="../../../../tag/mysql.html">
                        <i class="icon-tag icon-large"></i>mysql
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="../../../../tag/percona.html">
                        <i class="icon-tag icon-large"></i>percona
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="../../../../tag/memcached.html">
                        <i class="icon-tag icon-large"></i>memcached
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="../../../../tag/job.html">
                        <i class="icon-tag icon-large"></i>job
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="../../../../tag/rhel5.html">
                        <i class="icon-tag icon-large"></i>RHEL5
                    </a>
                </li>
                            <li class="tag-1">
                    <a href="../../../../tag/deployment.html">
                        <i class="icon-tag icon-large"></i>deployment
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="../../../../tag/openshift.html">
                        <i class="icon-tag icon-large"></i>openshift
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="../../../../tag/macosx.html">
                        <i class="icon-tag icon-large"></i>macosx
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="../../../../tag/upgrade.html">
                        <i class="icon-tag icon-large"></i>upgrade
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="../../../../tag/fabric.html">
                        <i class="icon-tag icon-large"></i>fabric
                    </a>
                </li>
                            <li class="tag-2">
                    <a href="../../../../tag/linux.html">
                        <i class="icon-tag icon-large"></i>linux
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="../../../../tag/django-maine.html">
                        <i class="icon-tag icon-large"></i>django-maine
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="../../../../tag/stackato.html">
                        <i class="icon-tag icon-large"></i>stackato
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="../../../../tag/mercurial.html">
                        <i class="icon-tag icon-large"></i>Mercurial
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="../../../../tag/pci.html">
                        <i class="icon-tag icon-large"></i>pci
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="../../../../tag/supervisord.html">
                        <i class="icon-tag icon-large"></i>supervisord
                    </a>
                </li>
                            <li class="tag-2">
                    <a href="../../../../tag/centos5.html">
                        <i class="icon-tag icon-large"></i>centos5
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="../../../../tag/epio.html">
                        <i class="icon-tag icon-large"></i>epio
                    </a>
                </li>
                            <li class="tag-1">
                    <a href="../../../../tag/python.html">
                        <i class="icon-tag icon-large"></i>python
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="../../../../tag/nginx.html">
                        <i class="icon-tag icon-large"></i>nginx
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="../../../../tag/sentry.html">
                        <i class="icon-tag icon-large"></i>sentry
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="../../../../tag/djangozoom.html">
                        <i class="icon-tag icon-large"></i>djangozoom
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="../../../../tag/jobs.html">
                        <i class="icon-tag icon-large"></i>jobs
                    </a>
                </li>
                            <li class="tag-2">
                    <a href="../../../../tag/djangocms.html">
                        <i class="icon-tag icon-large"></i>djangocms
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="../../../../tag/startup.html">
                        <i class="icon-tag icon-large"></i>startup
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="../../../../tag/apphosted.html">
                        <i class="icon-tag icon-large"></i>apphosted
                    </a>
                </li>
                            <li class="tag-2">
                    <a href="../../../../tag/heroku.html">
                        <i class="icon-tag icon-large"></i>heroku
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="../../../../tag/cashstar.html">
                        <i class="icon-tag icon-large"></i>cashstar
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="../../../../tag/rhel5.html">
                        <i class="icon-tag icon-large"></i>rhel5
                    </a>
                </li>
                            <li class="tag-1">
                    <a href="../../../../tag/hosting.html">
                        <i class="icon-tag icon-large"></i>hosting
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="../../../../tag/clickstream.html">
                        <i class="icon-tag icon-large"></i>clickstream
                    </a>
                </li>
                        </ul>
			
		</div>
	  </div>
	  <div class="content">
							<div class='article'>
		<div class="page-header"><h1>My Day in Gondor.io</h1></div>
		<div class="well small">Permalink: <a class="more" href="../../../../blog/2011/04/my-day-gondorio/">2011-04-22 06:12:41</a>
by <a class="url fn" href="../../../../author/ken-cochrane.html">Ken Cochrane</a> in <a href="../../../../category/blog.html">blog</a>
tags: <a href="../../../../tag/gondor.html">gondor</a> <a href="../../../../tag/django.html">django</a> <a href="../../../../tag/python.html">python</a> <a href="../../../../tag/hosting.html">hosting</a> <a href="../../../../tag/paas.html">paas</a> </div>
		<div><p>The other day I wrote about a new <a class="reference external" href="http://kencochrane.net/blog/2011/04/my-experiences-with-epio/">Django hosting service called ep.io</a>
, after I made that post, I was lucky enough to get an invite for the private beta of <a class="reference external" href="http://gondor.io">gondor.io</a>, which is similar to <a class="reference external" href="http://ep.io">ep.io</a> but from the folks over at <a class="reference external" href="http://eldarion.com/">Eldarion</a>. In order to test out the service I decided to take my Dango blog application and deploy it to Gondor and I kept notes along the way, here are those notes.</p>
<p>The sign up process was pretty typical, register and then validate your email address. Once into the system you are offered the ability to create a site. So I created my site &quot;KenCochrane_blog&quot; and it gave me a key which I'll use later on. Not knowing where to start I headed over to the <a class="reference external" href="https://gondor.io/support/">documentation</a>. Which, as of this writing, is pretty basic, which is understandable since they are still in beta. I'm assuming the documentation will get better as they move forward. The current documentation and this blog post should get you enough information to get going.</p>
<div class="section" id="setting-up-my-development-environment">
<h2>Setting up my development environment:</h2>
<p>Gondor uses a file to store your login credentials, so that you don't need to type it in everytime. It is pretty basic, here is how I installed mine on my MacBook Pro (OSX 10.6).</p>
<div class="highlight"><pre><span class="c"># create the file, and edit it.</span>
<span class="nv">$ </span>emacs ~/.gondor

<span class="c"># copy this into the file.</span>

<span class="o">[</span>auth<span class="o">]</span>
<span class="nv">username</span> <span class="o">=</span> &lt;my_username&gt;
<span class="nv">password</span> <span class="o">=</span> &lt;my_password&gt;

<span class="c"># change the permissions so that only you can access it.</span>
<span class="nv">$ </span>chmod 600 ~/.gondor
</pre></div>
<p>Like all cool projects these days, gondor uses pip and virtualenv, I'm assuming you already have virtualenv and pip installed so I'll move onto the fun stuff.</p>
<div class="highlight"><pre><span class="c"># make my virtualenv called gondor</span>
<span class="nv">$ </span>mkvirtualenv gondor
</pre></div>
<p>From this point on, all of these commands are done in the new gondor virtual environment that I just created. Gondor uses a command line client to manage your application, we need to install that before we can do anything.</p>
<div class="highlight"><pre><span class="nv">$ </span>pip install gondor
</pre></div>
<p>Since I'm going to need to make changes to my blog, I decided to fork it and make all of my changes to gondor on the new fork. The new fork is on bitbucket and it is called kencochranenet_gondor. Now that I have it forked I can pull it down locally.</p>
<div class="highlight"><pre><span class="c"># go to my projects directory and clone my blog.</span>
<span class="nv">$ </span><span class="nb">cd</span> ~/projects
<span class="nv">$ </span>hg clone https://bitbucket.org/kencochrane/kencochranenet_gondor kencochranenet_gondor
<span class="nv">$ </span><span class="nb">cd </span>kencochranenet_gondor/mysite
</pre></div>
<p>Now that we have some code to deploy, lets introduce the code to gondor. We use the init command inside of our django project and it will create a .gondor directory with a config file and some defaults.</p>
<div class="highlight"><pre><span class="nv">$ </span>gondor init &lt;site_key&gt;
</pre></div>
<p>Gondor expects your project to be in a certain layout in order to work. For more info see the documentation: <a class="reference external" href="https://gondor.io/support/project-layout/">https://gondor.io/support/project-layout/</a></p>
<p>Since my blog didn't have everything in the right place, I need to add some directories and move some files around. One of the files I needed to add was deploy/wsgi.py, here is what it contains. Notice the two sys.path.insert lines. I added those because the <a class="reference external" href="https://gondor.io/support/setting-up-django/">gondor documentation</a> told me too.</p>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">sys</span>

<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">)),</span> <span class="n">os</span><span class="o">.</span><span class="n">pardir</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">pardir</span><span class="p">)))</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">)),</span> <span class="n">os</span><span class="o">.</span><span class="n">pardir</span><span class="p">)))</span>

<span class="kn">from</span> <span class="nn">django.core.handlers.wsgi</span> <span class="kn">import</span> <span class="n">WSGIHandler</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&quot;DJANGO_SETTINGS_MODULE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;mysite.settings&quot;</span>
<span class="n">application</span> <span class="o">=</span> <span class="n">WSGIHandler</span><span class="p">()</span>
</pre></div>
<p>I also had to add the same sys.path lines to my manage.py settings. Here is my new manage.py</p>
<div class="highlight"><pre><span class="c">#!/usr/bin/env python</span>
<span class="kn">from</span> <span class="nn">django.core.management</span> <span class="kn">import</span> <span class="n">execute_manager</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">)),</span> <span class="n">os</span><span class="o">.</span><span class="n">pardir</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">pardir</span><span class="p">)))</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">)),</span> <span class="n">os</span><span class="o">.</span><span class="n">pardir</span><span class="p">)))</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">settings</span> <span class="c"># Assumed to be in the same directory.</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;Error: Can&#39;t find the file &#39;settings.py&#39; in the directory containing </span><span class="si">%r</span><span class="s">. It appears you&#39;ve customized things.</span><span class="se">\n</span><span class="s">You&#39;ll have to run django-admin.py, passing it your settings module.</span><span class="se">\n</span><span class="s">(If the file settings.py does indeed exist, it&#39;s causing an ImportError somehow.)</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">__file__</span><span class="p">)</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">execute_manager</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
</pre></div>
<p>Gondor will automagically add your database and other settings to your app for you at deployment, and in order for that to work correctly you need to add the following at the end of your settings.py file.</p>
<div class="highlight"><pre><span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">local_settings</span> <span class="kn">import</span> <span class="o">*</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="k">pass</span>
</pre></div>
<p>My blog is using south to manage south migrations, so we need to edit the .gondor/config file to enable this.</p>
<div class="highlight"><pre><span class="c"># edit .gondor/config changed migrations to migrations=south</span>
emacs .gondor/config

<span class="c"># change this line</span>
<span class="nv">migrations</span> <span class="o">=</span> None
<span class="c"># to</span>
<span class="nv">migrations</span> <span class="o">=</span> south
</pre></div>
<p>Now that we have made all of the changes that we need. I need to commit all of my changes. It is important to note that because gondor uses mecurial or git for managing your project files, you need to always remember to add new files and commit all changes before you try to deploy your application.</p>
<div class="section" id="deployment">
<h3>Deployment:</h3>
<p>Next step is deployment. Before we get there, we need to create a new instance. Gondor allows you to deploy multiple versions of your code, this lets you have a production version and development versions all running at the same time. Gondor calls these different deployments 'instances'. We run the 'gondor create master' command, which will create a new instance called, you guessed it, 'master', and this is what you should see.</p>
<div class="highlight"><pre><span class="nv">$ </span>gondor create master
Reading configuration... <span class="o">[</span>ok<span class="o">]</span>
Creating instance on Gondor... <span class="o">[</span>ok<span class="o">]</span>

Run: gondor deploy master HEAD
Visit: http://jg437.o1.gondor.io/
</pre></div>
<p>This created the master instance and tells us what our url for the instance will be. Now according to the log message I just need to run 'gondor deploy master HEAD' and that will deploy my app. Lets do that now.</p>
<div class="highlight"><pre><span class="nv">$ </span>gondor deploy master HEAD
  Reading configuration... <span class="o">[</span>ok<span class="o">]</span>
  ERROR: could not map <span class="s1">&#39;HEAD&#39;</span> to a SHA
</pre></div>
<p>As you can see, it didn't work, after lots of digging, I realized that the code was assuming I was on a branch called HEAD, which wasn't correct. I think HEAD is the default git branch, and in mercirual, it is default. Just to be sure, I checked my mercurial branch.</p>
<div class="highlight"><pre><span class="nv">$ </span>hg summary

parent: 122:76f0c2271b7f tip
 gondor settings
branch: default
commit: <span class="o">(</span>clean<span class="o">)</span>

update: <span class="o">(</span>current<span class="o">)</span>
</pre></div>
<p>Running the quick 'hg summary' command lets me know that my branch is default, so I then made the changes to my command and reran the script.</p>
<div class="highlight"><pre><span class="nv">$ </span>gondor deploy master default

Reading configuration... <span class="o">[</span>ok<span class="o">]</span>
Building tarball from default... <span class="o">[</span>ok<span class="o">]</span>
Pushing tarball to Gondor...
Deploying... <span class="o">[</span>failed<span class="o">]</span>

pip has failed installing your requirements. Here is the output we saw:

Downloading/unpacking <span class="nv">Django</span><span class="o">==</span>1.2.5 <span class="o">(</span>from -r mysite/requirements/project.txt <span class="o">(</span>line 1<span class="o">))</span>
Creating supposed download cache at /var/gondor/instances/.cache-i194/pip-download
  Storing download in cache at ./.cache-i194/pip-download/http%3A%2F%2Fpypi.python.org%2Fpackages%2Fsource%2FD%2FDjango%2FDjango-1.2.5.tar.gz
  Running setup.py egg_info <span class="k">for </span>package Django

Downloading/unpacking MySQL-python<span class="o">==</span>1.2.3c1 <span class="o">(</span>from -r mysite/requirements/project.txt <span class="o">(</span>line 2<span class="o">))</span>
  Storing download in cache at ./.cache-i194/pip-download/http%3A%2F%2Fpypi.python.org%2Fpackages%2Fsource%2FM%2FMySQL-python%2FMySQL-python-1.2.3c1.tar.gz
  Running setup.py egg_info <span class="k">for </span>package MySQL-python
    sh: mysql_config: not found
    Traceback <span class="o">(</span>most recent call last<span class="o">)</span>:
      File <span class="s2">&quot;&lt;string&gt;&quot;</span>, line 14, in &lt;module&gt;
      File <span class="s2">&quot;/var/gondor/instances/.cache-i194/pip-build/MySQL-python/setup.py&quot;</span>, line 15, in &lt;module&gt;
        metadata, <span class="nv">options</span> <span class="o">=</span> get_config<span class="o">()</span>
      File <span class="s2">&quot;setup_posix.py&quot;</span>, line 43, in get_config
        <span class="nv">libs</span> <span class="o">=</span> mysql_config<span class="o">(</span><span class="s2">&quot;libs_r&quot;</span><span class="o">)</span>
      File <span class="s2">&quot;setup_posix.py&quot;</span>, line 24, in mysql_config
        raise EnvironmentError<span class="o">(</span><span class="s2">&quot;%s not found&quot;</span> % <span class="o">(</span>mysql_config.path,<span class="o">))</span>
    EnvironmentError: mysql_config not found
    Complete output from <span class="nb">command </span>python setup.py egg_info:
    sh: mysql_config: not found

Traceback <span class="o">(</span>most recent call last<span class="o">)</span>:

  File <span class="s2">&quot;&lt;string&gt;&quot;</span>, line 14, in &lt;module&gt;

  File <span class="s2">&quot;/var/gondor/instances/.cache-i194/pip-build/MySQL-python/setup.py&quot;</span>, line 15, in &lt;module&gt;

    metadata, <span class="nv">options</span> <span class="o">=</span> get_config<span class="o">()</span>

  File <span class="s2">&quot;setup_posix.py&quot;</span>, line 43, in get_config

    <span class="nv">libs</span> <span class="o">=</span> mysql_config<span class="o">(</span><span class="s2">&quot;libs_r&quot;</span><span class="o">)</span>

  File <span class="s2">&quot;setup_posix.py&quot;</span>, line 24, in mysql_config

    raise EnvironmentError<span class="o">(</span><span class="s2">&quot;%s not found&quot;</span> % <span class="o">(</span>mysql_config.path,<span class="o">))</span>

EnvironmentError: mysql_config not found


Command python setup.py egg_info failed with error code 1
</pre></div>
<p>We had mysql-python in our requirements file, and gondor doesn't support mysql, so we need to remove that, commit and try again.</p>
<div class="highlight"><pre><span class="nv">$ </span>gondor deploy master default

Reading configuration... <span class="o">[</span>ok<span class="o">]</span>
Building tarball from default... <span class="o">[</span>ok<span class="o">]</span>
Pushing tarball to Gondor...
Deploying... <span class="o">[</span>failed<span class="o">]</span>

unable to build static <span class="o">(</span>collectstatic or build_static not found<span class="o">)</span>
</pre></div>
<p>closer but no cigar, gondor uses staticfiles (new in django 1.3 or django-staticfiles) to manage static files. If you aren't currently using static files add django-staticfiles to your pre django 1.3 app, or upgrade to django 1.3 and configure static files. To be honest, this was the biggest problem I had, it took me a while to get this correct. I was lucky enough to get some help on the #gondor IRC channel, which helped me along the way. With all of my changes made I committed them and tried again.</p>
<div class="highlight"><pre><span class="nv">$ </span>gondor deploy master default
Reading configuration... <span class="o">[</span>ok<span class="o">]</span>
Building tarball from default... <span class="o">[</span>ok<span class="o">]</span>
Pushing tarball to Gondor...
Deploying... <span class="o">[</span>ok<span class="o">]</span>
</pre></div>
<p>That worked!! woo hoo! now if I go to the URL (<a class="reference external" href="http://jg437.o1.gondor.io/">http://jg437.o1.gondor.io/</a>) I got earlier, I should see something if all went well. I went to the site, and bingo, all working.. no data but it is there. Now how do I create my django admin user? Normally that is done when you do your initial syncdb, and since that is done by gondor, it doesn't give you a chance. Looking thru all of the documentation I didn't find anything. So I went and looked at the gondor client source code, and I found my answer. I kicked off the following command, answered the prompts and bingo, I was in business.</p>
<div class="highlight"><pre><span class="nv">$ </span>gondor run master createsuperuser
</pre></div>
</div>
<div class="section" id="conclusion">
<h3>Conclusion</h3>
<p>Now that I have my app up and running and I have admin access I could switch over my blog to the new service if I wanted. I'll hold off for right now, but you get the picture. All and all I think this is going to be a nice service once they are fully up and running. It isn't as far along as ep.io, but I'm sure it won't be long before they are caught up. I'll try and keep this post updated as I learn more about the service and they release new features.</p>
<div class="section" id="update">
<h4>Update:</h4>
<p>Read how this service stacks up against other services like it in my <a class="reference external" href="http://kencochrane.net/blog/2011/06/django-hosting-roundup-who-wins/">Django hosting roundup</a></p>
<p>2/16/2012: Full disclosure. On Feb 16th 2012, I accepted a job with dotCloud a competitor to gondor.io. I plan on keeping this blog post up to date and impartial. If you think there are any errors, please let me know in the comments.</p>
</div>
</div>
</div>
</div>
		<div>
			<h2>Comments</h2>
		 	<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="KenCochrane">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
			<div id="disqus_thread"></div>					<div>
	</div>	
		<footer>
		  <p> Powered by <a href="http://getpelican.com">Pelican</a>, theme based on <a href="http://twitter.github.com/bootstrap/">Bootstrap, from Twitter</a>.</p>
		  <p>&copy; Ken Cochrane 2012</p>
		  <a title="Real Time Web Analytics" href="http://getclicky.com/66415850"><img alt="Real Time Web Analytics" src="//static.getclicky.com/media/links/badge.gif" border="0" /></a>
		</footer>
	  </div>

	</div>
<div class="container-fluid">
<script>var _gaq=[['_setAccount','UA-67696-11'],['_trackPageview']];(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.src='//www.google-analytics.com/ga.js';s.parentNode.insertBefore(g,s)}(document,'script'))</script>

<script type="text/javascript">
var clicky_site_ids = clicky_site_ids || [];
clicky_site_ids.push(66415850);
(function() {
  var s = document.createElement('script');
  s.type = 'text/javascript';
  s.async = true;
  s.src = '//static.getclicky.com/js';
  ( document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0] ).appendChild( s );
})();
</script>
<noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/66415850ns.gif" /></p></noscript>
</div>
</body>
</html>