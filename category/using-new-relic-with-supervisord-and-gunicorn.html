<!DOCTYPE html>
<html lang="en">
<head>
        <title>KenCochrane.net - using-new-relic-with-supervisord-and-gunicorn</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href=".././theme/css/main.css" type="text/css" />
        
        <link href="http://kencochrane.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="KenCochrane.net Atom Feed" />
        
        

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href=".././css/ie.css"/>
                <script src=".././js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href=".././css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">

<a href="https://github.com/kencochrane">

<img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />

</a>

        <header id="banner" class="body">
                <h1><a href="../.">KenCochrane.net </a></h1>
                <nav><ul>
                
                
                
                    <li><a href=".././about/index.html">About Me</a></li>
                
                    <li><a href=".././projects/index.html">Projects</a></li>
                
                
                
                    <li ><a href=".././category/automated-install-script-for-memcached-on-rhel5.html">Automated-Install-Script-for-memcached-on-RHEL5</a></li>
                
                    <li ><a href=".././category/django-project-release-history.html">Django-Project-Release-History</a></li>
                
                    <li ><a href=".././category/about.html">about</a></li>
                
                    <li ><a href=".././category/apphosted-com-django-hosting-review.html">apphosted-com-django-hosting-review</a></li>
                
                    <li ><a href=".././category/author.html">author</a></li>
                
                    <li ><a href=".././category/blog.html">blog</a></li>
                
                    <li ><a href=".././category/category.html">category</a></li>
                
                    <li ><a href=".././category/dear-recruiters.html">dear-recruiters</a></li>
                
                    <li ><a href=".././category/deploying-a-django-application-on-dotcloud.html">deploying-a-django-application-on-dotcloud</a></li>
                
                    <li ><a href=".././category/deploying-my-django-application-to-dotcloud.html">deploying-my-django-application-to-dotcloud</a></li>
                
                    <li ><a href=".././category/developers-guide-for-running-django-apps-on-heroku.html">developers-guide-for-running-django-apps-on-heroku</a></li>
                
                    <li ><a href=".././category/developers-guide-to-pci-compliant-web-applications.html">developers-guide-to-pci-compliant-web-applications</a></li>
                
                    <li ><a href=".././category/django-12-has-been-released.html">django-12-has-been-released</a></li>
                
                    <li ><a href=".././category/django-13-has-been-released.html">django-13-has-been-released</a></li>
                
                    <li ><a href=".././category/django-clickstream.html">django-clickstream</a></li>
                
                    <li ><a href=".././category/django-gunicorn-nginx-supervisord-fabric-centos55.html">django-gunicorn-nginx-supervisord-fabric-centos55</a></li>
                
                    <li ><a href=".././category/django-hosting-roundup-who-wins.html">django-hosting-roundup-who-wins</a></li>
                
                    <li ><a href=".././category/django-job-opening-cashstar-portland-me.html">django-job-opening-cashstar-portland-me</a></li>
                
                    <li ><a href=".././category/djangomainecom-django-user-group-portland-maine.html">djangomainecom-django-user-group-portland-maine</a></li>
                
                    <li ><a href=".././category/djangozoom-com-review.html">djangozoom-com-review</a></li>
                
                    <li ><a href=".././category/getting-djangocms-up-and-running-on-stackato.html">getting-djangocms-up-and-running-on-stackato</a></li>
                
                    <li ><a href=".././category/ill-never-work-for-a-big-company-again.html">ill-never-work-for-a-big-company-again</a></li>
                
                    <li ><a href=".././category/im-now-working-for-dotcloud.html">im-now-working-for-dotcloud</a></li>
                
                    <li ><a href=".././category/installing-django-application-on-openshift.html">installing-django-application-on-openshift</a></li>
                
                    <li ><a href=".././category/installing-djangocms-dotcloud-12-easy-steps.html">installing-djangocms-dotcloud-12-easy-steps</a></li>
                
                    <li ><a href=".././category/installing-djangocms-on-heroku-in-13-easy-steps.html">installing-djangocms-on-heroku-in-13-easy-steps</a></li>
                
                    <li ><a href=".././category/intro-to-python-and-django-presentation.html">intro-to-python-and-django-presentation</a></li>
                
                    <li ><a href=".././category/mercurial-1_5_1-on-rhel5-using-python2_5.html">mercurial-1_5_1-on-RHEL5-using-python2_5</a></li>
                
                    <li ><a href=".././category/misc.html">misc</a></li>
                
                    <li ><a href=".././category/my-day-gondorio.html">my-day-gondorio</a></li>
                
                    <li ><a href=".././category/my-experiences-with-epio.html">my-experiences-with-epio</a></li>
                
                    <li ><a href=".././category/new-pelican-based-blog.html">new-pelican-based-blog</a></li>
                
                    <li ><a href=".././category/projects.html">projects</a></li>
                
                    <li ><a href=".././category/restart-apache-mac-os-x.html">restart-apache-mac-os-x</a></li>
                
                    <li ><a href=".././category/running-docker-on-a-raspberrypi.html">running-docker-on-a-raspberrypi</a></li>
                
                    <li ><a href=".././category/running-docker-on-digital-ocean.html">running-docker-on-digital-ocean</a></li>
                
                    <li ><a href=".././category/running-docker-on-rackspace-cloud.html">running-docker-on-rackspace-cloud</a></li>
                
                    <li ><a href=".././category/running-sentry-on-dotcloud.html">running-sentry-on-dotcloud</a></li>
                
                    <li ><a href=".././category/standardizing-python-wsgi-deployment.html">standardizing-python-wsgi-deployment</a></li>
                
                    <li ><a href=".././category/tag.html">tag</a></li>
                
                    <li ><a href=".././category/templates.html">templates</a></li>
                
                    <li ><a href=".././category/the-docker-guidebook.html">the-docker-guidebook</a></li>
                
                    <li ><a href=".././category/upgrading-linux-kernel-ubuntu-rackspace-cloud.html">upgrading-linux-kernel-ubuntu-rackspace-cloud</a></li>
                
                    <li ><a href=".././category/upgrading-mysql-50x-percona-mysql-51x-rhel5-or-cen.html">upgrading-mysql-50x-percona-mysql-51x-rhel5-or-cen</a></li>
                
                    <li ><a href=".././category/upgrading-percona-mysql-50x-percona-mysql-51x-rhel.html">upgrading-percona-mysql-50x-percona-mysql-51x-rhel</a></li>
                
                    <li class="active"><a href=".././category/using-new-relic-with-supervisord-and-gunicorn.html">using-new-relic-with-supervisord-and-gunicorn</a></li>
                
                    <li ><a href=".././category/what-are-the-best-python-companies-to-work-for.html">what-are-the-best-python-companies-to-work-for</a></li>
                
                </ul></nav>
        </header><!-- /#banner -->
                

            

        
        
            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href=".././blog/2014/06/unnamed/">unnamed</a></h1> 
                    <footer class="post-info">
        <abbr class="published" title="2014-06-23T10:18:04">
                Mon 23 June 2014
        </abbr>

        
        <address class="vcard author">
                By <a class="url fn" href=".././author/ken-cochrane.html">Ken Cochrane</a>
        </address>
        
<p>In <a href=".././category/using-new-relic-with-supervisord-and-gunicorn.html">using-new-relic-with-supervisord-and-gunicorn</a>. </p>



Translations: 
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    
        <a href=".././blog/2014/06/unnamed/">en</a>
    

</footer><!-- /.post-info --><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>KenCochrane.net</title>
    <meta name="description" content="">
    <meta name="author" content="Ken Cochrane">
        <link href="http://kencochrane.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="KenCochrane.net Atom Feed" />
            <link href="http://kencochrane.net/rss/all.rss" type="application/rss+xml" rel="alternate" title="KenCochrane.net RSS Feed" />
            <link rel="icon" href="http://kencochrane.net/static/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="http://kencochrane.net/static/favicon.ico" type="image/x-icon"> 

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
        <script src="http://kencochrane.net/theme/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="http://kencochrane.net/theme/bootstrap.min.css" rel="stylesheet">
    <link href="http://kencochrane.net/theme/local.css" rel="stylesheet">
    <link href="http://kencochrane.net/theme/css/font-awesome.css" rel="stylesheet">
    <link href="http://kencochrane.net/theme/pygments.css" rel="stylesheet">
    <style type="text/css">

      .sidebar-nav {
        padding: 9px 0;
      }
      .tag-1 {
        font-size: 13pt;
      }
      .tag-2 {
        font-size: 10pt;
      }
      .tag-2 {
        font-size: 8pt;
      }
      .tag-4 {
        font-size: 6pt;
     }
    </style>
    <script type="text/javascript">
	var disqus_identifier = "blog/2011/12/using-new-relic-with-supervisord-and-gunicorn/";
	(function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = 'http://kencochrane.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
</script>
</head>
<body>
        <div class="topbar">
      <div class="topbar-inner">
        <div class="container-fluid">
          <a class="brand" href="http://kencochrane.net/index.html">KenCochrane.net</a>
            <ul class="nav">
                                                                            <li><a href="http://kencochrane.net/about/index.html">About Me</a></li>
                                            <li><a href="http://kencochrane.net/projects/index.html">Projects</a></li>
                                                                        <li class="active"><a href="http://kencochrane.net/category/blog.html">blog</a></li>
                                 <li><iframe style="border: 0; margin: 0; padding: 0;"
        src="https://www.gittip.com/kencochrane/widget.html"
        width="48pt" height="22pt"></iframe>
                  </li>
            </ul>
            <p class="pull-right"><a href="http://kencochrane.net/archives.html">[archives]</a> <a href="http://kencochrane.net/tags.html">[tags]</a></p>
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="sidebar">
        <div class="well">
                                    <div class="social">
            <h3>Social</h3>
            <ul>
                                <li><a href="http://twitter.com/kencochrane">twitter</a></li>
                                <li><a href="https://github.com/kencochrane">github</a></li>
                                                    <li><a href="http://kencochrane.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>
                                                    <li><a href="http://kencochrane.net/rss/all.rss" type="application/rss+xml" rel="alternate">rss feed</a></li>
                            </ul>
            </div>
            
            <h4><i class="icon-tags icon-large"></i>Tags</h4>
            <ul>
                            <li class="tag-1">
                    <a href="http://kencochrane.net/tag/dotcloud.html">
                        <i class="icon-tag icon-large"></i>dotcloud
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/upgrade.html">
                        <i class="icon-tag icon-large"></i>upgrade
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/fabric.html">
                        <i class="icon-tag icon-large"></i>fabric
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/epio.html">
                        <i class="icon-tag icon-large"></i>epio
                    </a>
                </li>
                            <li class="tag-2">
                    <a href="http://kencochrane.net/tag/heroku.html">
                        <i class="icon-tag icon-large"></i>heroku
                    </a>
                </li>
                            <li class="tag-1">
                    <a href="http://kencochrane.net/tag/deployment.html">
                        <i class="icon-tag icon-large"></i>deployment
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/rhel5.html">
                        <i class="icon-tag icon-large"></i>RHEL5
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/digital-ocean.html">
                        <i class="icon-tag icon-large"></i>digital-ocean
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/mercurial.html">
                        <i class="icon-tag icon-large"></i>Mercurial
                    </a>
                </li>
                            <li class="tag-1">
                    <a href="http://kencochrane.net/tag/hosting.html">
                        <i class="icon-tag icon-large"></i>hosting
                    </a>
                </li>
                            <li class="tag-2">
                    <a href="http://kencochrane.net/tag/ubuntu.html">
                        <i class="icon-tag icon-large"></i>ubuntu
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/percona.html">
                        <i class="icon-tag icon-large"></i>percona
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/raspbian.html">
                        <i class="icon-tag icon-large"></i>raspbian
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/django-maine.html">
                        <i class="icon-tag icon-large"></i>django-maine
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/pci.html">
                        <i class="icon-tag icon-large"></i>pci
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/job.html">
                        <i class="icon-tag icon-large"></i>job
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/guidebook.html">
                        <i class="icon-tag icon-large"></i>guidebook
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/blog.html">
                        <i class="icon-tag icon-large"></i>blog
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/pelican.html">
                        <i class="icon-tag icon-large"></i>pelican
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/raspberrypi.html">
                        <i class="icon-tag icon-large"></i>raspberrypi
                    </a>
                </li>
                            <li class="tag-2">
                    <a href="http://kencochrane.net/tag/docker.html">
                        <i class="icon-tag icon-large"></i>docker
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/rackspace.html">
                        <i class="icon-tag icon-large"></i>rackspace
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/tutorial.html">
                        <i class="icon-tag icon-large"></i>tutorial
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/nginx.html">
                        <i class="icon-tag icon-large"></i>nginx
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/gondor.html">
                        <i class="icon-tag icon-large"></i>gondor
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/cashstar.html">
                        <i class="icon-tag icon-large"></i>cashstar
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/memcached.html">
                        <i class="icon-tag icon-large"></i>memcached
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/djangomaine.html">
                        <i class="icon-tag icon-large"></i>djangomaine
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/supervisor.html">
                        <i class="icon-tag icon-large"></i>supervisor
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/stackato.html">
                        <i class="icon-tag icon-large"></i>stackato
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/openshift.html">
                        <i class="icon-tag icon-large"></i>openshift
                    </a>
                </li>
                            <li class="tag-2">
                    <a href="http://kencochrane.net/tag/kernel.html">
                        <i class="icon-tag icon-large"></i>kernel
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/recruiters.html">
                        <i class="icon-tag icon-large"></i>recruiters
                    </a>
                </li>
                            <li class="tag-2">
                    <a href="http://kencochrane.net/tag/djangocms.html">
                        <i class="icon-tag icon-large"></i>djangocms
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/gunicorn.html">
                        <i class="icon-tag icon-large"></i>gunicorn
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/install.html">
                        <i class="icon-tag icon-large"></i>install
                    </a>
                </li>
                            <li class="tag-2">
                    <a href="http://kencochrane.net/tag/centos5.html">
                        <i class="icon-tag icon-large"></i>centos5
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/apphosted.html">
                        <i class="icon-tag icon-large"></i>apphosted
                    </a>
                </li>
                            <li class="tag-1">
                    <a href="http://kencochrane.net/tag/django.html">
                        <i class="icon-tag icon-large"></i>django
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/startup.html">
                        <i class="icon-tag icon-large"></i>startup
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/apache.html">
                        <i class="icon-tag icon-large"></i>apache
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/supervisord.html">
                        <i class="icon-tag icon-large"></i>supervisord
                    </a>
                </li>
                            <li class="tag-2">
                    <a href="http://kencochrane.net/tag/linux.html">
                        <i class="icon-tag icon-large"></i>linux
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/clickstream.html">
                        <i class="icon-tag icon-large"></i>clickstream
                    </a>
                </li>
                            <li class="tag-1">
                    <a href="http://kencochrane.net/tag/python.html">
                        <i class="icon-tag icon-large"></i>python
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/mysql.html">
                        <i class="icon-tag icon-large"></i>mysql
                    </a>
                </li>
                            <li class="tag-2">
                    <a href="http://kencochrane.net/tag/aufs.html">
                        <i class="icon-tag icon-large"></i>aufs
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/work.html">
                        <i class="icon-tag icon-large"></i>work
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/script.html">
                        <i class="icon-tag icon-large"></i>script
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/rhel5.html">
                        <i class="icon-tag icon-large"></i>rhel5
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/sentry.html">
                        <i class="icon-tag icon-large"></i>sentry
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/macosx.html">
                        <i class="icon-tag icon-large"></i>macosx
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/jobs.html">
                        <i class="icon-tag icon-large"></i>jobs
                    </a>
                </li>
                            <li class="tag-3">
                    <a href="http://kencochrane.net/tag/djangozoom.html">
                        <i class="icon-tag icon-large"></i>djangozoom
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/go.html">
                        <i class="icon-tag icon-large"></i>go
                    </a>
                </li>
                            <li class="tag-4">
                    <a href="http://kencochrane.net/tag/newrelic.html">
                        <i class="icon-tag icon-large"></i>newrelic
                    </a>
                </li>
                            <li class="tag-2">
                    <a href="http://kencochrane.net/tag/lxc.html">
                        <i class="icon-tag icon-large"></i>lxc
                    </a>
                </li>
                            <li class="tag-1">
                    <a href="http://kencochrane.net/tag/paas.html">
                        <i class="icon-tag icon-large"></i>paas
                    </a>
                </li>
                        </ul>
            
        </div>
      </div>
      <div class="content">
                        	<div class='article'>
		<div class="page-header"><h1>Using New Relic with supervisord and gunicorn</h1></div>
		<div class="well small">Permalink: <a class="more" href="http://kencochrane.net/blog/2011/12/using-new-relic-with-supervisord-and-gunicorn/">2011-12-30 14:53:35</a>
by <a class="url fn" href="http://kencochrane.net/author/ken-cochrane.html">Ken Cochrane</a> in <a href="http://kencochrane.net/category/blog.html">blog</a>
tags: <a href="http://kencochrane.net/tag/django.html">django</a> <a href="http://kencochrane.net/tag/supervisor.html">supervisor</a> <a href="http://kencochrane.net/tag/gunicorn.html">gunicorn</a> <a href="http://kencochrane.net/tag/newrelic.html">newrelic</a> </div>
		<div><p>New Relic recently added support for python to their awesome web application performance tool, and I have been playing with it on a number of projects.</p>
<p>Installing and configuring new relic is pretty well covered in their own <a class="reference external" href="http://newrelic.com/docs/python/">documentation</a>, so there is no reason for me to repeat that here. One thing that isn't covered in the documentation is how to use new relic if you are using supervisord to control your gunicorn processes, and I'll take this time right now to show you what I did.</p>
<p>Setting up new relic with supervisord and gunicorn is pretty easy. All that you need to do, is change your supervisor.conf file and then update your supevisor config, and you are good to go.</p>
<p>Here is the supervisor.conf file for my awesome app, before I installed new relic.</p>
<p><em>Note: These are not my real conf files, they have been changed to protect the guilty, so please excuse any typos.</em></p>
<div class="highlight"><pre>[program:awesome_app]
directory=/opt/apps/awesome_home/awesome_app/
command=/opt/apps/awesome_home/bin/python2.6 /opt/apps/awesome_home/bin/gunicorn_django -c /opt/apps/awesome_home/awesome_app/conf/gunicorn.conf
user=aweman
autostart=true
autorestart=true
environment=HOME=&#39;/opt/apps/awesome_home/awesome_app/&#39;,DJANGO_SETTINGS_MODULE=&#39;settings&#39;
</pre></div>
<p>After I installed new relic. All you need to do is add the 'newrelic-admin run-program' command before the 'gunicorn_django' command and add an ENV variable called NEW_RELIC_CONFIG_FILE that is pointing to your newrelic.ini file.</p>
<div class="highlight"><pre>[program:awesome_app]
directory=/opt/apps/awesome_home/awesome_app/
command=/opt/apps/awesome_home/bin/newrelic-admin run-program /opt/apps/awesome_home/bin/gunicorn_django -c /opt/apps/awesome_home/awesome_app/conf/gunicorn.conf
user=aweman
autostart=true
autorestart=true
environment=HOME=&#39;/opt/apps/awesome_home/awesome_app/&#39;,DJANGO_SETTINGS_MODULE=&#39;settings&#39;,NEW_RELIC_CONFIG_FILE=/opt/apps/awesome_home/awesome_app/conf/newrelic.ini
</pre></div>
<p>Now that you have the new configuration setup, you will need to let supervisord know that you have changed t he configuration for that app. If you run the update command it will prompt supervisord to reread the configuration file for that app, and reload the config, and then restart the application with the new configuration.</p>
<div class="highlight"><pre><span class="nv">$ </span>supervisorctl update
</pre></div>
<p>Another thing that is important to note here, is the fact that New Relic currently doesn't work well with Gunicorn in gevent mode. If you try to use gevent with gunicorn and new relic, it may not start up at all, or just not work as it should. Here is what they say in the <a class="reference external" href="http://newrelic.com/docs/python/status-of-python-agent">Known Issues</a> section of their docs.</p>
<blockquote>
Gunicorn gevent mode - When using gevent mode of gunicorn and the 'newrelic-admin run-program' command is used to wrap the invocation of gunicorn, the hosted web application can fail in strange ways. One way this is manifesting is with requests blocking for a period of 1 minute.
The cause of the problem is believed in this case to specifically relate to the order in which module imports are occuring. The monkey patching performed by gevent is not working properly for the case where the Python threading module is imported before the gevent monkey patching routine is run.</blockquote>
<p>Because of this, I have changed my gunicorn's to use eventlet when using new relic, and that seems to work fine. I normally prefer to use gevent, so hopefully they will be able to fix the issue with gevent so I can revert back to that setup.</p>
<p>All and all I have been pretty happy with new relic, it has helped us find issues with our code that would have been a pain otherwise. There support has been awesome, and they have been adding new fixes/ improvements all the time. Can't wait to see what else they have in store for the future. I would try it out if you can, they have a lite version that is free which even includes server monitoring.</p>
</div>
		<div>
			<h2>Comments</h2>
		 	<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="KenCochrane">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
			<div id="disqus_thread"></div>					<div>
	</div>	
        <footer>
          <p> Powered by <a href="http://getpelican.com">Pelican</a>, theme based on <a href="http://twitter.github.com/bootstrap/">Bootstrap, from Twitter</a>.</p>
          <p>&copy; Ken Cochrane 2013</p>
          <a title="Real Time Web Analytics" href="http://getclicky.com/66415850"><img alt="Real Time Web Analytics" src="../static/static.getclicky.com/media/links/badge.gif" border="0" /></a>
        </footer>
      </div>

    </div>
<div class="container-fluid">
<script>var _gaq=[['_setAccount','UA-67696-11'],['_trackPageview']];(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.src='//www.google-analytics.com/ga.js';s.parentNode.insertBefore(g,s)}(document,'script'))</script>

<script type="text/javascript">
var clicky_site_ids = clicky_site_ids || [];
clicky_site_ids.push(66415850);
(function() {
  var s = document.createElement('script');
  s.type = 'text/javascript';
  s.async = true;
  s.src = '//static.getclicky.com/js';
  ( document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0] ).appendChild( s );
})();
</script>
<noscript><p><img alt="Clicky" width="1" height="1" src="../static/in.getclicky.com/66415850ns.gif" /></p></noscript>
</div>
</body>
</html><p>There are <a href=".././blog/2014/06/unnamed/#disqus_thread">comments</a>.</p>
                </article>
                
                    
<p class="paginator">
    
    Page 1 / 1
    
</p>

                
            </aside><!-- /#featured -->
            
        
        
        
            </ol><!-- /#posts-list -->
            
            </section><!-- /#content -->
        
    


        <section id="extras" class="body">
        
        
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://kencochrane.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>
                            

                        
                            <li><a href="http://twitter.com/kencochrane">twitter</a></li>
                        
                            <li><a href="https://github.com/kencochrane">github</a></li>
                        
                        </ul>
                </div><!-- /.social -->
        
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->


    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-67696-11']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>



<script type="text/javascript">
    var disqus_shortname = 'kencochrane';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

</body>
</html>